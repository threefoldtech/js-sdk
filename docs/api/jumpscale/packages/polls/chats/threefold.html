<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.10.0" />
<title>jumpscale.packages.polls.chats.threefold API documentation</title>
<meta name="description" content="" />
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/sanitize.min.css" integrity="sha256-PK9q560IAAa6WVRRh76LtCaI8pjTJ2z11v0miyNNjrs=" crossorigin>
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/typography.min.css" integrity="sha256-7l/o7C8jubJiy74VsKTidCy1yBkRtiUGbVkYBylBqUg=" crossorigin>
<link rel="stylesheet preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/github.min.css" crossorigin>
<style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js" integrity="sha256-Uv3H6lx7dJmRfRvH8TH6kJD1TSK1aFcwgx+mdg3epi8=" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => hljs.initHighlighting())</script>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>jumpscale.packages.polls.chats.threefold</code></h1>
</header>
<section id="section-intro">
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">from jumpscale.sals.chatflows.polls import Poll, MANIFESTO_VERSION
from textwrap import dedent


VOTES = {
    1: {
        &#34;title&#34;: &#34;Reading June 2020 update document&#34;,
        &#34;content&#34;: &#34;&#34;&#34;&lt;span&gt;We have prepared a new update of what has been happening please go to &lt;a href=&#34;https://wiki.threefold.io/#/threefold_update_july2020.md&#34; target=&#34;_blank&#34;&gt;https://wiki.threefold.io/#/threefold_update_july2020.md&lt;/a&gt;&lt;/span&gt;&#34;&#34;&#34;,
        &#34;options&#34;: [&#34;I have read the June 2020 update document&#34;, &#34;I have not read the June 2020 update document&#34;],
    },
    2: {
        &#34;title&#34;: &#34;Reading the manifesto&#34;,
        &#34;content&#34;: f&#34;&#34;&#34;&lt;span&gt;It&#39;s very important that you as a ThreeFold token holder (TFTA) or TFGrid user have read and agree with the &lt;a href=&#34;http://decentralization2.threefold.io&#34; target=&#34;_blank&#34;&gt;Decentralization Manifesto v{MANIFESTO_VERSION}&lt;/a&gt; of our TFGrid. &lt;br&gt;&lt;br&gt;This manifesto is the basis of our further evolution and needs to be accepted by all of us.&lt;/span&gt;&#34;&#34;&#34;,
        &#34;options&#34;: [
            &#34;I have read the manifesto and I do agree with the contents of this manifesto.&#34;,
            &#34;I have not read the manifesto or I do not agree.&#34;,
        ],
    },
    3: {
        &#34;title&#34;: &#34;TFTA on Stellar rights&#34;,
        &#34;content&#34;: dedent(
            &#34;&#34;&#34;\
            From May 2020, TFT v1 (Rivine) users can migrate their tokens towards a new public blockchain called Stellar.
            Each user had to do this action him/herself.
            TFTv1 is called TFTA on Stellar. TFTA and TFTv1 are identical and have all the same properties.
            Additional benefits are: Stellar Exchange and a public blockchain with more users so more chance for liquidity.

            I can

            - Buy any capacity on the TF Grid, which represents the main use-case of this token.
            - Sell TFTA to anyone (directly or using Stellar Exchange or using atomic swaps)
            - Transfer TFTA to anyone

            &lt;br&gt;No rights have been taken away from me by switching blockchains. Please realize this question has nothing to do in relation to Liquid and BTCAlpha public exchange integration, this is next question.

        &#34;&#34;&#34;
        ),
        &#34;options&#34;: [&#34;I do agree&#34;, &#34;I do not agree&#34;],
    },
    4: {
        &#34;title&#34;: &#34;TFTA Availability&#34;,
        &#34;content&#34;: &#34;The following vote is incredibly important, do realize that if we bring the TFTA on the public exchanges without price protection that there is a big probability that the price will drop way below USD 0.15.&lt;br&gt;&lt;br&gt;The TF Foundation believes that by growing our demand organically and executing the steps as outlined in our update document the token will get liquidity in a stable and organic way. Please keep in mind that the token is only 2 years and 2 months old. &lt;br&gt;&lt;br&gt;If there is no price protection we will have no choice than to stop with the TDE which means the TF Foundation will have no funding to continue and the planned promotion activities will stop. &lt;br&gt;&lt;br&gt;This will also mean that we will not go for the option of using onboarding tokens &amp; partnerships like Dash &amp; DigiByte which would allow us to go 100% decentralized for exchanging TFT to any of these onboarding tokens. &lt;br&gt;&lt;br&gt; The TFGrid Council and the Wisdom Council will decide how to go forward based on the public visible voting results of the question below.&#34;,
        &#34;options&#34;: [
            &#34;I am fine with the option to sell my TFTA (TFTv1) on the Stellar exchange or any other decentralized market mechanism and get automatic conversion to TFTv2 end of the year.&#34;,
            &#34;I want my TFTA to be available on supported exchanges as TFT and agree with minimal price protection (0.15 USD, +2% increase per month starting with May 1), sales will happen through a sales bot.&#34;,
            &#34;I want my TFTA to be available on supported exchanges as TFT and there should be no price protection. I do realize this choice has the potential to damage the ThreeFold movement.&#34;,
        ],
    },
}

# to upgrade the titles
NEW_TITLE_KEYS = {
    &#34;Reading June 2020 update document&#34;: &#34;Reading June 2020 update document&#34;,
    &#34;Reading the manifesto&#34;: &#34;Reading the manifesto&#34;,
    &#34;TFTA on Stellar rights&#34;: &#34;TFTA on Stellar rights&#34;,
    &#34;TFTA Availability&#34;: &#34;TFTA trading mechanism support&#34;,
}


class TFPoll(Poll):
    poll_name = &#34;threefold&#34;

    def __init__(self, *args, **kwargs):
        super().__init__(*args, **kwargs)
        self.extra_data = {}
        self.custom_answers = {}
        self.metadata = {&#34;new_title_keys&#34;: NEW_TITLE_KEYS}
        self.QUESTIONS = {vote[&#34;title&#34;]: vote[&#34;options&#34;] for vote in VOTES.values()}

    def welcome(self):
        stored_extra_data = self.user.extra_data

        statement_1 = &#34;&#34;&#34;\
        &lt;span&gt;Dear ThreeFold Token Holder,

        This is the first poll organized by the foundation using our newly developed ThreeFold voting system. Your votes at the end of this wizard are super important to the future of the ThreeFold Grid (TF Grid).

        This first poll is related to introducing a new era in the ThreeFold Grid which leads to even more decentralization and it is important to have your support.

        The detailed poll results will only be visible &amp; consulted by the members of the TFgrid Council: see &lt;a href=&#34;https://wiki.threefold.io/#/threefold_councils.md&#34; target=&#34;_blank&#34;&gt;https://wiki.threefold.io/#/threefold_councils.md&lt;/a&gt;

        Only the end results will be visible by the general community which is:
        - The voting questions (comes at end of this poll)
        - % of votes as results per question, weighted and unweighted
        - Unweighted means: each vote = 1, weighted means each vote in relation to nr of tokens the vote represents.&lt;/span&gt;
        &#34;&#34;&#34;

        self.md_show(dedent(statement_1), md=True)

        default_answer = self.get_question_answer(&#34;full_name&#34;)
        full_name = self.string_ask(&#34;What is your full name ?&#34;, required=True, default=default_answer)
        self.extra_data.update({&#34;full_name&#34;: full_name})

        statement_2 = f&#34;&#34;&#34;&lt;span&gt;Please read the decentralization manifesto v{MANIFESTO_VERSION} on &lt;a href=&#34;http://decentralization2.threefold.io&#34; target=&#34;_blank&#34;&gt;http://decentralization2.threefold.io&lt;/a&gt;&lt;/span&gt;&#34;&#34;&#34;
        self.md_show(dedent(statement_2), md=True)

    def custom_votes(self):
        super().custom_votes()

        default_answer = self.get_vote_answer(VOTES[1][&#34;title&#34;])
        vote_1_answer = self.single_choice(
            VOTES[1][&#34;content&#34;].strip(), VOTES[1][&#34;options&#34;], default=default_answer, md=True, required=True
        )
        self.custom_answers.update({VOTES[1][&#34;title&#34;]: vote_1_answer})

        default_answer = self.get_vote_answer(VOTES[2][&#34;title&#34;])
        vote_2_answer = self.single_choice(
            VOTES[2][&#34;content&#34;].strip(), VOTES[2][&#34;options&#34;], default=default_answer, md=True, required=True
        )
        self.custom_answers.update({VOTES[2][&#34;title&#34;]: vote_2_answer})

        if vote_2_answer == VOTES[2][&#34;options&#34;][1]:
            self.md_show(
                f&#34;You did not agree with the decentralization manifesto v{MANIFESTO_VERSION}. Thank you for your participation.&#34;
            )
        else:
            self.md_show(
                f&#39;Thank you for confirming our &#34;Decentralization manifesto v{MANIFESTO_VERSION}&#34;, you have now digitally signed this document.&#39;
            )

        default_answer = self.get_vote_answer(VOTES[3][&#34;title&#34;])
        vote_3_answer = self.single_choice(
            VOTES[3][&#34;content&#34;].strip(), VOTES[3][&#34;options&#34;], default=default_answer, md=True, required=True
        )
        self.custom_answers.update({VOTES[3][&#34;title&#34;]: vote_3_answer})

        default_answer = self.get_vote_answer(VOTES[4][&#34;title&#34;])
        vote_4_answer = self.single_choice(
            VOTES[4][&#34;content&#34;].strip(), VOTES[4][&#34;options&#34;], default=default_answer, md=True, required=True
        )
        self.custom_answers.update({VOTES[4][&#34;title&#34;]: vote_4_answer})

        self.vote()


chat = TFPoll</code></pre>
</details>
</section>
<section>
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-classes">Classes</h2>
<dl>
<dt id="jumpscale.packages.polls.chats.threefold.TFPoll"><code class="flex name class">
<span>class <span class="ident">TFPoll</span></span>
<span>(</span><span>*args, **kwargs)</span>
</code></dt>
<dd>
<div class="desc"><p>Polls chatflow base
just inherit from this class and override poll_name and QUESTIONS in your chatflow</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>GedisChatBot</code></strong> :&ensp;<code>Parent</code></dt>
<dd>contains the chatflows sals main functions</dd>
</dl>
<h2 id="raises">Raises</h2>
<dl>
<dt><code>j.core.exceptions.Runtime</code></dt>
<dd>if wrong inheritance happens</dd>
<dt><code>StopChatFlow</code></dt>
<dd>if payment is failed</dd>
</dl>
<p>Keyword Args
any extra kwargs that is passed while creating the session
(i.e. can be used for passing any query parameters)</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class TFPoll(Poll):
    poll_name = &#34;threefold&#34;

    def __init__(self, *args, **kwargs):
        super().__init__(*args, **kwargs)
        self.extra_data = {}
        self.custom_answers = {}
        self.metadata = {&#34;new_title_keys&#34;: NEW_TITLE_KEYS}
        self.QUESTIONS = {vote[&#34;title&#34;]: vote[&#34;options&#34;] for vote in VOTES.values()}

    def welcome(self):
        stored_extra_data = self.user.extra_data

        statement_1 = &#34;&#34;&#34;\
        &lt;span&gt;Dear ThreeFold Token Holder,

        This is the first poll organized by the foundation using our newly developed ThreeFold voting system. Your votes at the end of this wizard are super important to the future of the ThreeFold Grid (TF Grid).

        This first poll is related to introducing a new era in the ThreeFold Grid which leads to even more decentralization and it is important to have your support.

        The detailed poll results will only be visible &amp; consulted by the members of the TFgrid Council: see &lt;a href=&#34;https://wiki.threefold.io/#/threefold_councils.md&#34; target=&#34;_blank&#34;&gt;https://wiki.threefold.io/#/threefold_councils.md&lt;/a&gt;

        Only the end results will be visible by the general community which is:
        - The voting questions (comes at end of this poll)
        - % of votes as results per question, weighted and unweighted
        - Unweighted means: each vote = 1, weighted means each vote in relation to nr of tokens the vote represents.&lt;/span&gt;
        &#34;&#34;&#34;

        self.md_show(dedent(statement_1), md=True)

        default_answer = self.get_question_answer(&#34;full_name&#34;)
        full_name = self.string_ask(&#34;What is your full name ?&#34;, required=True, default=default_answer)
        self.extra_data.update({&#34;full_name&#34;: full_name})

        statement_2 = f&#34;&#34;&#34;&lt;span&gt;Please read the decentralization manifesto v{MANIFESTO_VERSION} on &lt;a href=&#34;http://decentralization2.threefold.io&#34; target=&#34;_blank&#34;&gt;http://decentralization2.threefold.io&lt;/a&gt;&lt;/span&gt;&#34;&#34;&#34;
        self.md_show(dedent(statement_2), md=True)

    def custom_votes(self):
        super().custom_votes()

        default_answer = self.get_vote_answer(VOTES[1][&#34;title&#34;])
        vote_1_answer = self.single_choice(
            VOTES[1][&#34;content&#34;].strip(), VOTES[1][&#34;options&#34;], default=default_answer, md=True, required=True
        )
        self.custom_answers.update({VOTES[1][&#34;title&#34;]: vote_1_answer})

        default_answer = self.get_vote_answer(VOTES[2][&#34;title&#34;])
        vote_2_answer = self.single_choice(
            VOTES[2][&#34;content&#34;].strip(), VOTES[2][&#34;options&#34;], default=default_answer, md=True, required=True
        )
        self.custom_answers.update({VOTES[2][&#34;title&#34;]: vote_2_answer})

        if vote_2_answer == VOTES[2][&#34;options&#34;][1]:
            self.md_show(
                f&#34;You did not agree with the decentralization manifesto v{MANIFESTO_VERSION}. Thank you for your participation.&#34;
            )
        else:
            self.md_show(
                f&#39;Thank you for confirming our &#34;Decentralization manifesto v{MANIFESTO_VERSION}&#34;, you have now digitally signed this document.&#39;
            )

        default_answer = self.get_vote_answer(VOTES[3][&#34;title&#34;])
        vote_3_answer = self.single_choice(
            VOTES[3][&#34;content&#34;].strip(), VOTES[3][&#34;options&#34;], default=default_answer, md=True, required=True
        )
        self.custom_answers.update({VOTES[3][&#34;title&#34;]: vote_3_answer})

        default_answer = self.get_vote_answer(VOTES[4][&#34;title&#34;])
        vote_4_answer = self.single_choice(
            VOTES[4][&#34;content&#34;].strip(), VOTES[4][&#34;options&#34;], default=default_answer, md=True, required=True
        )
        self.custom_answers.update({VOTES[4][&#34;title&#34;]: vote_4_answer})

        self.vote()</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="jumpscale.sals.chatflows.polls.Poll" href="../../../sals/chatflows/polls.html#jumpscale.sals.chatflows.polls.Poll">Poll</a></li>
<li><a title="jumpscale.sals.chatflows.chatflows.GedisChatBot" href="../../../sals/chatflows/chatflows.html#jumpscale.sals.chatflows.chatflows.GedisChatBot">GedisChatBot</a></li>
</ul>
<h3>Class variables</h3>
<dl>
<dt id="jumpscale.packages.polls.chats.threefold.TFPoll.poll_name"><code class="name">var <span class="ident">poll_name</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
<h3>Methods</h3>
<dl>
<dt id="jumpscale.packages.polls.chats.threefold.TFPoll.custom_votes"><code class="name flex">
<span>def <span class="ident">custom_votes</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def custom_votes(self):
    super().custom_votes()

    default_answer = self.get_vote_answer(VOTES[1][&#34;title&#34;])
    vote_1_answer = self.single_choice(
        VOTES[1][&#34;content&#34;].strip(), VOTES[1][&#34;options&#34;], default=default_answer, md=True, required=True
    )
    self.custom_answers.update({VOTES[1][&#34;title&#34;]: vote_1_answer})

    default_answer = self.get_vote_answer(VOTES[2][&#34;title&#34;])
    vote_2_answer = self.single_choice(
        VOTES[2][&#34;content&#34;].strip(), VOTES[2][&#34;options&#34;], default=default_answer, md=True, required=True
    )
    self.custom_answers.update({VOTES[2][&#34;title&#34;]: vote_2_answer})

    if vote_2_answer == VOTES[2][&#34;options&#34;][1]:
        self.md_show(
            f&#34;You did not agree with the decentralization manifesto v{MANIFESTO_VERSION}. Thank you for your participation.&#34;
        )
    else:
        self.md_show(
            f&#39;Thank you for confirming our &#34;Decentralization manifesto v{MANIFESTO_VERSION}&#34;, you have now digitally signed this document.&#39;
        )

    default_answer = self.get_vote_answer(VOTES[3][&#34;title&#34;])
    vote_3_answer = self.single_choice(
        VOTES[3][&#34;content&#34;].strip(), VOTES[3][&#34;options&#34;], default=default_answer, md=True, required=True
    )
    self.custom_answers.update({VOTES[3][&#34;title&#34;]: vote_3_answer})

    default_answer = self.get_vote_answer(VOTES[4][&#34;title&#34;])
    vote_4_answer = self.single_choice(
        VOTES[4][&#34;content&#34;].strip(), VOTES[4][&#34;options&#34;], default=default_answer, md=True, required=True
    )
    self.custom_answers.update({VOTES[4][&#34;title&#34;]: vote_4_answer})

    self.vote()</code></pre>
</details>
</dd>
<dt id="jumpscale.packages.polls.chats.threefold.TFPoll.welcome"><code class="name flex">
<span>def <span class="ident">welcome</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def welcome(self):
    stored_extra_data = self.user.extra_data

    statement_1 = &#34;&#34;&#34;\
    &lt;span&gt;Dear ThreeFold Token Holder,

    This is the first poll organized by the foundation using our newly developed ThreeFold voting system. Your votes at the end of this wizard are super important to the future of the ThreeFold Grid (TF Grid).

    This first poll is related to introducing a new era in the ThreeFold Grid which leads to even more decentralization and it is important to have your support.

    The detailed poll results will only be visible &amp; consulted by the members of the TFgrid Council: see &lt;a href=&#34;https://wiki.threefold.io/#/threefold_councils.md&#34; target=&#34;_blank&#34;&gt;https://wiki.threefold.io/#/threefold_councils.md&lt;/a&gt;

    Only the end results will be visible by the general community which is:
    - The voting questions (comes at end of this poll)
    - % of votes as results per question, weighted and unweighted
    - Unweighted means: each vote = 1, weighted means each vote in relation to nr of tokens the vote represents.&lt;/span&gt;
    &#34;&#34;&#34;

    self.md_show(dedent(statement_1), md=True)

    default_answer = self.get_question_answer(&#34;full_name&#34;)
    full_name = self.string_ask(&#34;What is your full name ?&#34;, required=True, default=default_answer)
    self.extra_data.update({&#34;full_name&#34;: full_name})

    statement_2 = f&#34;&#34;&#34;&lt;span&gt;Please read the decentralization manifesto v{MANIFESTO_VERSION} on &lt;a href=&#34;http://decentralization2.threefold.io&#34; target=&#34;_blank&#34;&gt;http://decentralization2.threefold.io&lt;/a&gt;&lt;/span&gt;&#34;&#34;&#34;
    self.md_show(dedent(statement_2), md=True)</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="jumpscale.packages.polls.chats.threefold.TFPoll"><code class="flex name class">
<span>class <span class="ident">chat</span></span>
<span>(</span><span>*args, **kwargs)</span>
</code></dt>
<dd>
<div class="desc"><p>Polls chatflow base
just inherit from this class and override poll_name and QUESTIONS in your chatflow</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>GedisChatBot</code></strong> :&ensp;<code>Parent</code></dt>
<dd>contains the chatflows sals main functions</dd>
</dl>
<h2 id="raises">Raises</h2>
<dl>
<dt><code>j.core.exceptions.Runtime</code></dt>
<dd>if wrong inheritance happens</dd>
<dt><code>StopChatFlow</code></dt>
<dd>if payment is failed</dd>
</dl>
<p>Keyword Args
any extra kwargs that is passed while creating the session
(i.e. can be used for passing any query parameters)</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class TFPoll(Poll):
    poll_name = &#34;threefold&#34;

    def __init__(self, *args, **kwargs):
        super().__init__(*args, **kwargs)
        self.extra_data = {}
        self.custom_answers = {}
        self.metadata = {&#34;new_title_keys&#34;: NEW_TITLE_KEYS}
        self.QUESTIONS = {vote[&#34;title&#34;]: vote[&#34;options&#34;] for vote in VOTES.values()}

    def welcome(self):
        stored_extra_data = self.user.extra_data

        statement_1 = &#34;&#34;&#34;\
        &lt;span&gt;Dear ThreeFold Token Holder,

        This is the first poll organized by the foundation using our newly developed ThreeFold voting system. Your votes at the end of this wizard are super important to the future of the ThreeFold Grid (TF Grid).

        This first poll is related to introducing a new era in the ThreeFold Grid which leads to even more decentralization and it is important to have your support.

        The detailed poll results will only be visible &amp; consulted by the members of the TFgrid Council: see &lt;a href=&#34;https://wiki.threefold.io/#/threefold_councils.md&#34; target=&#34;_blank&#34;&gt;https://wiki.threefold.io/#/threefold_councils.md&lt;/a&gt;

        Only the end results will be visible by the general community which is:
        - The voting questions (comes at end of this poll)
        - % of votes as results per question, weighted and unweighted
        - Unweighted means: each vote = 1, weighted means each vote in relation to nr of tokens the vote represents.&lt;/span&gt;
        &#34;&#34;&#34;

        self.md_show(dedent(statement_1), md=True)

        default_answer = self.get_question_answer(&#34;full_name&#34;)
        full_name = self.string_ask(&#34;What is your full name ?&#34;, required=True, default=default_answer)
        self.extra_data.update({&#34;full_name&#34;: full_name})

        statement_2 = f&#34;&#34;&#34;&lt;span&gt;Please read the decentralization manifesto v{MANIFESTO_VERSION} on &lt;a href=&#34;http://decentralization2.threefold.io&#34; target=&#34;_blank&#34;&gt;http://decentralization2.threefold.io&lt;/a&gt;&lt;/span&gt;&#34;&#34;&#34;
        self.md_show(dedent(statement_2), md=True)

    def custom_votes(self):
        super().custom_votes()

        default_answer = self.get_vote_answer(VOTES[1][&#34;title&#34;])
        vote_1_answer = self.single_choice(
            VOTES[1][&#34;content&#34;].strip(), VOTES[1][&#34;options&#34;], default=default_answer, md=True, required=True
        )
        self.custom_answers.update({VOTES[1][&#34;title&#34;]: vote_1_answer})

        default_answer = self.get_vote_answer(VOTES[2][&#34;title&#34;])
        vote_2_answer = self.single_choice(
            VOTES[2][&#34;content&#34;].strip(), VOTES[2][&#34;options&#34;], default=default_answer, md=True, required=True
        )
        self.custom_answers.update({VOTES[2][&#34;title&#34;]: vote_2_answer})

        if vote_2_answer == VOTES[2][&#34;options&#34;][1]:
            self.md_show(
                f&#34;You did not agree with the decentralization manifesto v{MANIFESTO_VERSION}. Thank you for your participation.&#34;
            )
        else:
            self.md_show(
                f&#39;Thank you for confirming our &#34;Decentralization manifesto v{MANIFESTO_VERSION}&#34;, you have now digitally signed this document.&#39;
            )

        default_answer = self.get_vote_answer(VOTES[3][&#34;title&#34;])
        vote_3_answer = self.single_choice(
            VOTES[3][&#34;content&#34;].strip(), VOTES[3][&#34;options&#34;], default=default_answer, md=True, required=True
        )
        self.custom_answers.update({VOTES[3][&#34;title&#34;]: vote_3_answer})

        default_answer = self.get_vote_answer(VOTES[4][&#34;title&#34;])
        vote_4_answer = self.single_choice(
            VOTES[4][&#34;content&#34;].strip(), VOTES[4][&#34;options&#34;], default=default_answer, md=True, required=True
        )
        self.custom_answers.update({VOTES[4][&#34;title&#34;]: vote_4_answer})

        self.vote()</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="jumpscale.sals.chatflows.polls.Poll" href="../../../sals/chatflows/polls.html#jumpscale.sals.chatflows.polls.Poll">Poll</a></li>
<li><a title="jumpscale.sals.chatflows.chatflows.GedisChatBot" href="../../../sals/chatflows/chatflows.html#jumpscale.sals.chatflows.chatflows.GedisChatBot">GedisChatBot</a></li>
</ul>
<h3>Class variables</h3>
<dl>
<dt id="jumpscale.packages.polls.chats.threefold.TFPoll.poll_name"><code class="name">var <span class="ident">poll_name</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
<h3>Methods</h3>
<dl>
<dt id="jumpscale.packages.polls.chats.threefold.TFPoll.custom_votes"><code class="name flex">
<span>def <span class="ident">custom_votes</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def custom_votes(self):
    super().custom_votes()

    default_answer = self.get_vote_answer(VOTES[1][&#34;title&#34;])
    vote_1_answer = self.single_choice(
        VOTES[1][&#34;content&#34;].strip(), VOTES[1][&#34;options&#34;], default=default_answer, md=True, required=True
    )
    self.custom_answers.update({VOTES[1][&#34;title&#34;]: vote_1_answer})

    default_answer = self.get_vote_answer(VOTES[2][&#34;title&#34;])
    vote_2_answer = self.single_choice(
        VOTES[2][&#34;content&#34;].strip(), VOTES[2][&#34;options&#34;], default=default_answer, md=True, required=True
    )
    self.custom_answers.update({VOTES[2][&#34;title&#34;]: vote_2_answer})

    if vote_2_answer == VOTES[2][&#34;options&#34;][1]:
        self.md_show(
            f&#34;You did not agree with the decentralization manifesto v{MANIFESTO_VERSION}. Thank you for your participation.&#34;
        )
    else:
        self.md_show(
            f&#39;Thank you for confirming our &#34;Decentralization manifesto v{MANIFESTO_VERSION}&#34;, you have now digitally signed this document.&#39;
        )

    default_answer = self.get_vote_answer(VOTES[3][&#34;title&#34;])
    vote_3_answer = self.single_choice(
        VOTES[3][&#34;content&#34;].strip(), VOTES[3][&#34;options&#34;], default=default_answer, md=True, required=True
    )
    self.custom_answers.update({VOTES[3][&#34;title&#34;]: vote_3_answer})

    default_answer = self.get_vote_answer(VOTES[4][&#34;title&#34;])
    vote_4_answer = self.single_choice(
        VOTES[4][&#34;content&#34;].strip(), VOTES[4][&#34;options&#34;], default=default_answer, md=True, required=True
    )
    self.custom_answers.update({VOTES[4][&#34;title&#34;]: vote_4_answer})

    self.vote()</code></pre>
</details>
</dd>
<dt id="jumpscale.packages.polls.chats.threefold.TFPoll.welcome"><code class="name flex">
<span>def <span class="ident">welcome</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def welcome(self):
    stored_extra_data = self.user.extra_data

    statement_1 = &#34;&#34;&#34;\
    &lt;span&gt;Dear ThreeFold Token Holder,

    This is the first poll organized by the foundation using our newly developed ThreeFold voting system. Your votes at the end of this wizard are super important to the future of the ThreeFold Grid (TF Grid).

    This first poll is related to introducing a new era in the ThreeFold Grid which leads to even more decentralization and it is important to have your support.

    The detailed poll results will only be visible &amp; consulted by the members of the TFgrid Council: see &lt;a href=&#34;https://wiki.threefold.io/#/threefold_councils.md&#34; target=&#34;_blank&#34;&gt;https://wiki.threefold.io/#/threefold_councils.md&lt;/a&gt;

    Only the end results will be visible by the general community which is:
    - The voting questions (comes at end of this poll)
    - % of votes as results per question, weighted and unweighted
    - Unweighted means: each vote = 1, weighted means each vote in relation to nr of tokens the vote represents.&lt;/span&gt;
    &#34;&#34;&#34;

    self.md_show(dedent(statement_1), md=True)

    default_answer = self.get_question_answer(&#34;full_name&#34;)
    full_name = self.string_ask(&#34;What is your full name ?&#34;, required=True, default=default_answer)
    self.extra_data.update({&#34;full_name&#34;: full_name})

    statement_2 = f&#34;&#34;&#34;&lt;span&gt;Please read the decentralization manifesto v{MANIFESTO_VERSION} on &lt;a href=&#34;http://decentralization2.threefold.io&#34; target=&#34;_blank&#34;&gt;http://decentralization2.threefold.io&lt;/a&gt;&lt;/span&gt;&#34;&#34;&#34;
    self.md_show(dedent(statement_2), md=True)</code></pre>
</details>
</dd>
</dl>
<h3>Inherited members</h3>
<ul class="hlist">
<li><code><b><a title="jumpscale.sals.chatflows.polls.Poll" href="../../../sals/chatflows/polls.html#jumpscale.sals.chatflows.polls.Poll">Poll</a></b></code>:
<ul class="hlist">
<li><code><a title="jumpscale.sals.chatflows.polls.Poll.autocomplete_drop_down" href="../../../sals/chatflows/chatflows.html#jumpscale.sals.chatflows.chatflows.GedisChatBot.autocomplete_drop_down">autocomplete_drop_down</a></code></li>
<li><code><a title="jumpscale.sals.chatflows.polls.Poll.datetime_picker" href="../../../sals/chatflows/chatflows.html#jumpscale.sals.chatflows.chatflows.GedisChatBot.datetime_picker">datetime_picker</a></code></li>
<li><code><a title="jumpscale.sals.chatflows.polls.Poll.download_file" href="../../../sals/chatflows/chatflows.html#jumpscale.sals.chatflows.chatflows.GedisChatBot.download_file">download_file</a></code></li>
<li><code><a title="jumpscale.sals.chatflows.polls.Poll.drop_down_choice" href="../../../sals/chatflows/chatflows.html#jumpscale.sals.chatflows.chatflows.GedisChatBot.drop_down_choice">drop_down_choice</a></code></li>
<li><code><a title="jumpscale.sals.chatflows.polls.Poll.int_ask" href="../../../sals/chatflows/chatflows.html#jumpscale.sals.chatflows.chatflows.GedisChatBot.int_ask">int_ask</a></code></li>
<li><code><a title="jumpscale.sals.chatflows.polls.Poll.loading_show" href="../../../sals/chatflows/chatflows.html#jumpscale.sals.chatflows.chatflows.GedisChatBot.loading_show">loading_show</a></code></li>
<li><code><a title="jumpscale.sals.chatflows.polls.Poll.location_ask" href="../../../sals/chatflows/chatflows.html#jumpscale.sals.chatflows.chatflows.GedisChatBot.location_ask">location_ask</a></code></li>
<li><code><a title="jumpscale.sals.chatflows.polls.Poll.md_show" href="../../../sals/chatflows/chatflows.html#jumpscale.sals.chatflows.chatflows.GedisChatBot.md_show">md_show</a></code></li>
<li><code><a title="jumpscale.sals.chatflows.polls.Poll.md_show_confirm" href="../../../sals/chatflows/chatflows.html#jumpscale.sals.chatflows.chatflows.GedisChatBot.md_show_confirm">md_show_confirm</a></code></li>
<li><code><a title="jumpscale.sals.chatflows.polls.Poll.multi_choice" href="../../../sals/chatflows/chatflows.html#jumpscale.sals.chatflows.chatflows.GedisChatBot.multi_choice">multi_choice</a></code></li>
<li><code><a title="jumpscale.sals.chatflows.polls.Poll.multi_list_choice" href="../../../sals/chatflows/chatflows.html#jumpscale.sals.chatflows.chatflows.GedisChatBot.multi_list_choice">multi_list_choice</a></code></li>
<li><code><a title="jumpscale.sals.chatflows.polls.Poll.multi_values_ask" href="../../../sals/chatflows/chatflows.html#jumpscale.sals.chatflows.chatflows.GedisChatBot.multi_values_ask">multi_values_ask</a></code></li>
<li><code><a title="jumpscale.sals.chatflows.polls.Poll.new_form" href="../../../sals/chatflows/chatflows.html#jumpscale.sals.chatflows.chatflows.GedisChatBot.new_form">new_form</a></code></li>
<li><code><a title="jumpscale.sals.chatflows.polls.Poll.qrcode_show" href="../../../sals/chatflows/chatflows.html#jumpscale.sals.chatflows.chatflows.GedisChatBot.qrcode_show">qrcode_show</a></code></li>
<li><code><a title="jumpscale.sals.chatflows.polls.Poll.secret_ask" href="../../../sals/chatflows/chatflows.html#jumpscale.sals.chatflows.chatflows.GedisChatBot.secret_ask">secret_ask</a></code></li>
<li><code><a title="jumpscale.sals.chatflows.polls.Poll.single_choice" href="../../../sals/chatflows/chatflows.html#jumpscale.sals.chatflows.chatflows.GedisChatBot.single_choice">single_choice</a></code></li>
<li><code><a title="jumpscale.sals.chatflows.polls.Poll.string_ask" href="../../../sals/chatflows/chatflows.html#jumpscale.sals.chatflows.chatflows.GedisChatBot.string_ask">string_ask</a></code></li>
<li><code><a title="jumpscale.sals.chatflows.polls.Poll.text_ask" href="../../../sals/chatflows/chatflows.html#jumpscale.sals.chatflows.chatflows.GedisChatBot.text_ask">text_ask</a></code></li>
<li><code><a title="jumpscale.sals.chatflows.polls.Poll.time_delta_ask" href="../../../sals/chatflows/chatflows.html#jumpscale.sals.chatflows.chatflows.GedisChatBot.time_delta_ask">time_delta_ask</a></code></li>
<li><code><a title="jumpscale.sals.chatflows.polls.Poll.upload_file" href="../../../sals/chatflows/chatflows.html#jumpscale.sals.chatflows.chatflows.GedisChatBot.upload_file">upload_file</a></code></li>
</ul>
</li>
</ul>
</dd>
</dl>
</section>
</article>
<nav id="sidebar">
<h1>Index</h1>
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3>Super-module</h3>
<ul>
<li><code><a title="jumpscale.packages.polls.chats" href="index.html">jumpscale.packages.polls.chats</a></code></li>
</ul>
</li>
<li><h3><a href="#header-classes">Classes</a></h3>
<ul>
<li>
<h4><code><a title="jumpscale.packages.polls.chats.threefold.TFPoll" href="#jumpscale.packages.polls.chats.threefold.TFPoll">TFPoll</a></code></h4>
<ul class="">
<li><code><a title="jumpscale.packages.polls.chats.threefold.TFPoll.custom_votes" href="#jumpscale.packages.polls.chats.threefold.TFPoll.custom_votes">custom_votes</a></code></li>
<li><code><a title="jumpscale.packages.polls.chats.threefold.TFPoll.poll_name" href="#jumpscale.packages.polls.chats.threefold.TFPoll.poll_name">poll_name</a></code></li>
<li><code><a title="jumpscale.packages.polls.chats.threefold.TFPoll.welcome" href="#jumpscale.packages.polls.chats.threefold.TFPoll.welcome">welcome</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="jumpscale.packages.polls.chats.threefold.TFPoll" href="#jumpscale.packages.polls.chats.threefold.TFPoll">TFPoll</a></code></h4>
<ul class="">
<li><code><a title="jumpscale.packages.polls.chats.threefold.TFPoll.custom_votes" href="#jumpscale.packages.polls.chats.threefold.TFPoll.custom_votes">custom_votes</a></code></li>
<li><code><a title="jumpscale.packages.polls.chats.threefold.TFPoll.poll_name" href="#jumpscale.packages.polls.chats.threefold.TFPoll.poll_name">poll_name</a></code></li>
<li><code><a title="jumpscale.packages.polls.chats.threefold.TFPoll.welcome" href="#jumpscale.packages.polls.chats.threefold.TFPoll.welcome">welcome</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc" title="pdoc: Python API documentation generator"><cite>pdoc</cite> 0.10.0</a>.</p>
</footer>
</body>
</html>
